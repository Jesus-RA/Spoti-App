<app-loading *ngIf="loading"></app-loading>

<div class="row animated fadeIn" *ngIf="!loading">

    <div class="col-md-2 text-center" style="overflow: hidden;">
        <img [src]="artist.images | noimage" alt="" class="card-img-top" width="150" height="150" style="max-height: 150px; max-width: 150px;">
    </div>

    <div class="col-md-8 text-center text-md-left">
        <h3 class="mt-4 mt-md-0"> {{ artist.name }} </h3>

        <p class="mt-3">
            <a [href]="artist.external_urls.spotify" target="_blank">
                Ir a la p√°gina del artista
            </a>
        </p>
    </div>

    <div class="col-md-2 text-center my-3">
        <button (click)="goBack()" class="btn btn-outline-danger">Go back</button>
    </div>

    
</div>

<div class="row my-5" *ngIf="!loading">

    <!-- Tracks table for medium size devices -->
    <div class="col" id="table-tracks" style="overflow: scroll;">

        <table class="mx-auto text-white">

            <!-- <thead>
                <th>Image</th>
                <th>Album</th>
                <th>Song</th>
                <th>Preview</th>
            </thead> -->

            <tbody>

                <tr *ngFor="let track of top_tracks" class="" id="track">

                    <td class="pl-3 rounded-left">
                        <img [src]="track.album.images | noimage" alt="" width="50" height="50">
                    </td>

                    <td class="pl-3">{{ track.album.name }}</td>

                    <td>{{ track.name }}</td>

                    <td class="p-3 rounded-right">
                        <!-- Etiqueta audio de HTML -->
                        <!-- <audio [src]="track.preview_url" controls></audio> -->

                        <!-- Widget de Spotify -->
                        <iframe
                            [src]="track.uri | domsafe"
                            width="300"
                            height="80"
                            frameborder="0"
                            allowtransparency="true"
                            allow="encrypted-media"
                        ></iframe>
                    </td>

                </tr>

            </tbody>

        </table>

    </div>

    <!-- Sporitfy widgets for mobile view -->
    <div
        class="mx-auto mb-4"
        id="tracks-mobile"
        *ngFor="let track of top_tracks"
    >
        <iframe
            [src]="track.uri | domsafe"
            width="300"
            height="80"
            frameborder="0"
            allowtransparency="true"
            allow="encrypted-media"
        ></iframe>
    </div>

</div>